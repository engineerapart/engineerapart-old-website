/*!
 * Start Bootstrap - New Age v3.3.7 (http://startbootstrap.com/template-overviews/new-age)
 * Copyright 2013-2017 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
!function(e){e.fn.extend({BlackAndWhite:function(t){"use strict";var n=this,i=e.extend({hoverEffect:!0,webworkerPath:!1,invertHoverEffect:!1,speed:500,onImageReady:null,intensity:1,crossOrigin:!0},t),a=i.hoverEffect,o=i.webworkerPath,r=i.invertHoverEffect,d="number"==typeof i.intensity&&i.intensity<1&&i.intensity>0?i.intensity:1,s=e.isPlainObject(i.speed)?i.speed.fadeIn:i.speed,c=e.isPlainObject(i.speed)?i.speed.fadeOut:i.speed,u=e(window),f=".BlackAndWhite",l=(!(!document.all||window.opera||!window.XMLHttpRequest)," -webkit- -moz- -o- -ms- ".split(" ")),m={},g=function(e){if(m[e]||""===m[e])return m[e]+e;var t=document.createElement("div"),n=["","Moz","Webkit","O","ms","Khtml"];for(var i in n)if("undefined"!=typeof t.style[n[i]+e])return m[e]=n[i],n[i]+e;return e.toLowerCase()},h=function(){var e=document.createElement("div");return e.style.cssText=l.join("filter:blur(2px); "),!!e.style.length&&(void 0===document.documentMode||document.documentMode>9)}(),p=!!document.createElement("canvas").getContext,v=function(){return"undefined"!=typeof Worker}(),y=g("Filter"),w=[],b=!(!v||!o)&&new Worker(o+"BnWWorker.js"),W=function(t){e(t.currentTarget).find(".BWfade").stop(!0,!0).animate({opacity:r?0:1},c)},k=function(t){e(t.currentTarget).find(".BWfade").stop(!0,!0).animate({opacity:r?1:0},s)},I=function(e){"function"==typeof i.onImageReady&&i.onImageReady(e)},B=function(e){b&&p&&!h&&!e&&x()},x=function(){return w.length?(b.postMessage({imgData:w[0].imageData,intensity:d}),void(b.onmessage=function(e){w[0].ctx.putImageData(e.data,0,0),I(w[0].img),w.splice(0,1),x()})):(b.terminate&&b.terminate(),void(b.close&&b.close()))},D=function(e){return e.complete||"undefined"!=typeof e.naturalWidth&&e.naturalWidth},E=function(e,t,n,i){var a=t.getContext("2d"),o=0;a.drawImage(e,0,0,n,i);var r=a.getImageData(0,0,n,i),s=r.data,c=s.length;if(b)w.push({imageData:r,ctx:a,img:e});else{for(;o<c;o+=4){var u=.3*s[o]+.59*s[o+1]+.11*s[o+2];s[o]=~~(u*d+s[o]*(1-d)),s[o+1]=~~(u*d+s[o+1]*(1-d)),s[o+2]=~~(u*d+s[o+2]*(1-d))}a.putImageData(r,0,0),I(e)}},O=function(t,n){var a,o=t[0],s=(o.src,t.position()),c={top:s.top,left:s.left,position:"absolute","-webkit-transform":"translate3d(0,0,0)",opacity:r?0:1};i.crossOrigin&&(o.crossOrigin="anonymous"),p&&!h?(a=e('<canvas width="'+o.naturalWidth+'" height="'+o.naturalHeight+'" class="BWfade"></canvas>'),c.width=t.width(),c.height=t.height(),E(o,a.get(0),o.naturalWidth,o.naturalHeight)):(p?c[y]="grayscale("+100*d+"%)":c.filter="progid:DXImageTransform.Microsoft.BasicImage(grayscale=1)",a=t.clone().addClass("BWFilter BWfade"),I(o)),a.css(c).prependTo(n),!e.support.opacity&&r&&a.animate({opacity:0},0)},_=function(){n.each(function(t,n){var i=e(n).find("img"),a=e(i).width(),o=e(i).height();e(this).find("canvas").css({width:a,height:o})})},M=function(){var t=n.find("img").filter(function(){return!e(this).data("_b&w")}).length;n.each(function(n,i){var a=e(i),o=a.find("img");o.data("_b&w")||(D(o[0])?(t--,O(o,a)):o.on("load",function(){return o.data("_b&w_loaded")||!o[0].complete?void setTimeout(function(){o.load()},20):(O(o,a),o.data("_b&w_loaded",!0),t--,void B(t))}).load(),o.data("_b&w",!0))}),B(t),a&&n.unbind(f).on("mouseleave"+f,W).on("mouseenter"+f,k),p&&!h&&u.unbind(f).on("resize"+f+" orientationchange"+f,_)},T=function(){n.off(f),u.off(f)};return M(),{destroy:T}}})}(jQuery);